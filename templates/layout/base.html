<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    {# ───────── TITULO DE LA PAGINA ───────── #}
    {# Cada template hijo lo define con {% block title %} #}
    <title>{% block title %}CRUD Facturas{% endblock %}</title>

    {# ───────── BOOTSTRAP 5 DESDE CDN ───────── #}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet" />

    {# ───────── ESTILOS PERSONALIZADOS ───────── #}
    {# Contiene los estilos del sidebar, topbar, navegacion y responsive #}
    <link href="{{ url_for('static', filename='css/app.css') }}" rel="stylesheet" />
</head>
<body>

    {# ══════════════════════════════════════════════
       ESTRUCTURA PRINCIPAL: sidebar + contenido
       El sidebar queda a la izquierda y el main a la derecha.
       En movil, se apilan verticalmente.
       ══════════════════════════════════════════════ #}
    <div class="page">

        {# ───────── SIDEBAR (menu lateral) ───────── #}
        <div class="sidebar">
            {% include 'components/nav_menu.html' %}
        </div>

        {# ───────── CONTENIDO PRINCIPAL ───────── #}
        <main>
            {# Barra superior con el nombre del frontend #}
            <div class="top-row px-4">
                <span>Frontend Flask — API GenericaCsharp</span>
            </div>

            {# Area donde se inserta el contenido de cada pagina #}
            <article class="content px-4">

                {# ───────── MENSAJES FLASH ─────────
                   Flask usa flash() para enviar mensajes entre peticiones.
                   Aqui se muestran como alertas Bootstrap con boton de cerrar.
                   Las categorias 'success' y 'danger' definen el color. #}
                {% with mensajes = get_flashed_messages(with_categories=true) %}
                    {% if mensajes %}
                        {% for categoria, mensaje in mensajes %}
                            <div class="alert alert-{{ categoria }} alert-dismissible fade show mt-3">
                                {{ mensaje }}
                                {# El onclick elimina la alerta del DOM (JavaScript minimo) #}
                                <button type="button" class="btn-close"
                                        onclick="this.parentElement.remove()"></button>
                            </div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                {# ───────── CONTENIDO ESPECIFICO ─────────
                   Cada pagina hija define su contenido aqui #}
                {% block content %}{% endblock %}

            </article>
        </main>
    </div>

</body>
</html>
